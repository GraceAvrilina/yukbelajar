<div class="ion-page" id="main-content">
  <ion-header [translucent]="true">
    <ion-toolbar>
      <ion-buttons slot="start" style="color: #2471A3;">
        <ion-button mode="md" (click)="close()"><ion-icon name="arrow-back" style="color: #2471A3;"></ion-icon></ion-button>
      </ion-buttons>
      <ion-title style="color: #2471A3;">Data Kelas</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content [fullscreen]="true">
    <div class="container">
      <table class="table table-striped table-hover tables" *ngIf="!isDetail && !isDetailKls">
        <thead>
          <tr>
            <th scope="col">No</th>
            <th scope="col">Kode</th>
            <th scope="col">Nama Sekolah</th>
            <th scope="col">Detail</th>
            <th scope="col">Detail Kelas</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of dataSekolah; let i = index">
            <th scope="row">{{i + 1}} </th>
            <td>{{item.kodeSkl}}</td>
            <td>{{item.namaSkl}}</td>
            <td><a (click)="setDetail(1)" class="btn btn-link">Lihat & Ubah</a></td>
            <td><a (click)="setDetail(2)" class="btn btn-link">Data Kelas</a></td>
          </tr>
        </tbody>
      </table>

      <ng-container *ngIf="isDetail && !isDetailKls">
        <table class="table table-striped table-hover" >
          <thead>
            <tr  class="row">
              <th scope="col" colspan="3" class="col-sm-12 text-center">Data Sekolah</th>
              <!-- <th scope="col">Detail</th> -->
            </tr>
          </thead>
          <tbody>
            <ng-container>
              <tr class="row">
                <th scope="row" class="col-sm-3">Kode Sekolah </th>
                <th class="col-sm-1">:</th>
                <td class="col-sm-8">
                  <ion-item *ngIf="isEdit; else noEdit">
                    <ion-input [(ngModel)]="dataSkl.kdSkl" disabled="true"></ion-input>
                  </ion-item>
                  <ng-template #noEdit>
                    {{dataSkl.kdSkl}}
                  </ng-template>
                </td>
              </tr>
              <tr class="row">
                <th scope="row" class="col-sm-3">Nama Sekolah </th>
                <th class="col-sm-1">:</th>
                <td class="col-sm-8">
                  <ion-item *ngIf="isEdit; else noEditNm">
                    <ion-input [(ngModel)]="dataSkl.namaSkl" disabled="false"></ion-input>
                  </ion-item>
                  <ng-template #noEditNm>
                    {{dataSkl.namaSkl}}
                  </ng-template>
                </td>
              </tr>
              <div class="divider-hash mt-3"></div>
              <tr class="row">
                <th scope="row" class="col-sm-3">Nama Kepala Sekolah </th>
                <th class="col-sm-1">:</th>
                <td class="col-sm-8">
                  <ion-item *ngIf="isEdit; else noEditKepsek">
                    <ion-input [(ngModel)]="dataSkl.kepsek" disabled="false"></ion-input>
                  </ion-item>
                  <ng-template #noEditKepsek>
                    {{dataSkl.kepsek}}
                  </ng-template>
                </td>
              </tr>
              <tr class="row">
                <th scope="row" class="col-sm-3">Nomor Ijin Sekolah </th>
                <th class="col-sm-1">:</th>
                <td class="col-sm-8">
                  <ion-item *ngIf="isEdit; else noEditIjin">
                    <ion-input [(ngModel)]="dataSkl.noijin" disabled="false"></ion-input>
                  </ion-item>
                  <ng-template #noEditIjin>
                    {{dataSkl.noijin}}
                  </ng-template>
                </td>
              </tr>
              <tr class="row">
                <th scope="row" class="col-sm-3">Tingkatan Sekolah </th>
                <th class="col-sm-1">:</th>
                <td class="col-sm-8">
                  <ion-item *ngIf="isEdit; else noEditTingkat">
                    <ion-input [(ngModel)]="dataSkl.tingkat" disabled="false"></ion-input>
                  </ion-item>
                  <ng-template #noEditTingkat>
                    {{dataSkl.tingkat}}
                  </ng-template>
                </td>
              </tr>
              <tr class="row">
                <th scope="row" class="col-sm-3">Status Sekolah </th>
                <th class="col-sm-1">:</th>
                <td class="col-sm-8">
                  <ion-item *ngIf="isEdit; else noEditSt">
                    <ion-input [(ngModel)]="dataSkl.stts" disabled="false"></ion-input>
                  </ion-item>
                  <ng-template #noEditSt>
                    {{dataSkl.stts}}
                  </ng-template>
                </td>
              </tr>
              <tr class="row">
                <th scope="row" class="col-sm-3">Alamat Sekolah </th>
                <th class="col-sm-1">:</th>
                <td class="col-md-8">
                  <ion-item *ngIf="isEdit; else noEditAlmt">
                    <ion-input [(ngModel)]="dataSkl.almt" disabled="false"></ion-input>
                  </ion-item>
                  <ng-template #noEditAlmt>
                    {{dataSkl.almt}}
                  </ng-template>
                </td>
              </tr>
              <tr class="row">
                <th scope="row" class="col-md-3">Kota</th>
                <th class="col-md-1">:</th>
                <td class="col-md-8">
                  <ion-item *ngIf="isEdit; else noEditKota">
                    <ion-input [(ngModel)]="dataSkl.kota" disabled="false"></ion-input>
                  </ion-item>
                  <ng-template #noEditKota>
                    {{dataSkl.kota}}
                  </ng-template>
                </td>
              </tr>
            </ng-container>
          </tbody>
        </table>
        <div class="divider-hash mt-3"></div>
        <div class="text-center" *ngIf="!isEdit">
            <a (click)="setDetail(0)" class="btn btn-primary" style="color: white;">Kembali</a>
            &nbsp;
            <a (click)="setEdit(1)" class="btn btn-info" style="color: white;">Edit</a>
        </div>
        <div class="text-center" *ngIf="isEdit">
            <a (click)="setEdit(0)" class="btn btn-danger" style="color: white;">Batal Edit</a>
            &nbsp;
            <a (click)="confirmSignOut()" class="btn btn-success" style="color: white;">Simpan</a>
        </div>
      </ng-container>

      <ng-container *ngIf="!isDetail && isDetailKls">
        <div class="container">
          <h1>{{dataSkl.namaSkl}}</h1>
          <div><a (click)="selectMenu('data-kelas/tambah-kelas')" class="tambah"><ion-icon name="add-circle"></ion-icon> Tambah</a></div>
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th scope="col">No</th>
                <th scope="col">Kelas</th>
                <th scope="col">Aksi</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of dataKelas; let i = index">
                <th scope="row">{{i + 1}} </th>
                <td>{{item.kelas}}</td>
                <td><a (click)="delData(item)" class="btn btn-link"><ion-icon name="trash"></ion-icon></a></td>
              </tr>
            </tbody>
          </table>
          <div class="text-center" *ngIf="!isEdit">
              <a (click)="setDetail(0)" class="btn btn-primary" style="color: white;">Kembali</a>
          </div>
        </div>
      </ng-container>
      
    </div>
  </ion-content>
  </div>